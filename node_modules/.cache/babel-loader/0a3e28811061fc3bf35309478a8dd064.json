{"ast":null,"code":"import { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router';\nimport Operatorhtml from './operator.html';\nimport store from '../../../store/store';\nimport socketIOClient from \"socket.io-client\";\n\nclass Operator extends Component {\n  constructor(props) {\n    super(props);\n\n    this.disconnect = val => {\n      const socket = socketIOClient(this.state.endpoint, {\n        query: `operator=${this.props.authenticate ? this.props.authenticate.info.name : 'test'}`\n      });\n      socket.emit('disconnect-patient', val.id);\n      console.log(val);\n    };\n\n    this.connect = val => {\n      const socket = socketIOClient(this.state.endpoint, {\n        query: `operator=${this.props.authenticate ? this.props.authenticate.info.name : 'test'}`\n      });\n      socket.emit('connect-to-doctor', val.id);\n      console.log(val);\n    };\n\n    this.renderData = () => {\n      console.log(this.state.data);\n      return null;\n    };\n\n    this.state = {\n      endpoint: 'http://localhost:3002'\n    };\n  }\n\n  componentDidMount() {\n    const socket = socketIOClient(this.state.endpoint, {\n      query: `operator=${this.props.authenticate ? this.props.authenticate.info.name : 'test'}`\n    });\n    socket.on('patients', patients => {\n      this.setState({\n        data: patients\n      });\n    });\n  }\n\n  render() {\n    return Operatorhtml.call(this);\n  }\n\n}\n\nconst matchStateToProps = state => ({\n  authenticate: state.authenticate\n});\n\nexport default withRouter(connect(matchStateToProps)(Operator));","map":{"version":3,"sources":["/Users/adityarola/Downloads/covidclinicreact/src/modules/user/operator/operator.js"],"names":["Component","connect","withRouter","Operatorhtml","store","socketIOClient","Operator","constructor","props","disconnect","val","socket","state","endpoint","query","authenticate","info","name","emit","id","console","log","renderData","data","componentDidMount","on","patients","setState","render","call","matchStateToProps"],"mappings":"AAAA,SAAQA,SAAR,QAAwB,OAAxB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,UAAR,QAAyB,cAAzB;AACA,OAAOC,YAAP,MAAyB,iBAAzB;AACA,OAAOC,KAAP,MAAkB,sBAAlB;AAEA,OAAOC,cAAP,MAA2B,kBAA3B;;AAGA,MAAMC,QAAN,SAAuBN,SAAvB,CAAiC;AAC7BO,EAAAA,WAAW,CAACC,KAAD,EAAO;AACd,UAAMA,KAAN;;AADc,SASlBC,UATkB,GASJC,GAAD,IAAQ;AACjB,YAAMC,MAAM,GAAGN,cAAc,CAAC,KAAKO,KAAL,CAAWC,QAAZ,EAAqB;AAACC,QAAAA,KAAK,EAAG,YAAW,KAAKN,KAAL,CAAWO,YAAX,GAAwB,KAAKP,KAAL,CAAWO,YAAX,CAAwBC,IAAxB,CAA6BC,IAArD,GAA0D,MAAO;AAArF,OAArB,CAA7B;AACAN,MAAAA,MAAM,CAACO,IAAP,CAAY,oBAAZ,EAAkCR,GAAG,CAACS,EAAtC;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYX,GAAZ;AACH,KAbiB;;AAAA,SAelBT,OAfkB,GAePS,GAAD,IAAQ;AACd,YAAMC,MAAM,GAAGN,cAAc,CAAC,KAAKO,KAAL,CAAWC,QAAZ,EAAqB;AAACC,QAAAA,KAAK,EAAG,YAAW,KAAKN,KAAL,CAAWO,YAAX,GAAwB,KAAKP,KAAL,CAAWO,YAAX,CAAwBC,IAAxB,CAA6BC,IAArD,GAA0D,MAAO;AAArF,OAArB,CAA7B;AACAN,MAAAA,MAAM,CAACO,IAAP,CAAY,mBAAZ,EAAiCR,GAAG,CAACS,EAArC;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYX,GAAZ;AACH,KAnBiB;;AAAA,SAqBlBY,UArBkB,GAqBN,MAAI;AACZF,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKT,KAAL,CAAWW,IAAvB;AACA,aAAO,IAAP;AACH,KAxBiB;;AAEd,SAAKX,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAC;AADA,KAAb;AAKH;;AAmBDW,EAAAA,iBAAiB,GAAE;AACf,UAAMb,MAAM,GAAGN,cAAc,CAAC,KAAKO,KAAL,CAAWC,QAAZ,EAAqB;AAACC,MAAAA,KAAK,EAAG,YAAW,KAAKN,KAAL,CAAWO,YAAX,GAAwB,KAAKP,KAAL,CAAWO,YAAX,CAAwBC,IAAxB,CAA6BC,IAArD,GAA0D,MAAO;AAArF,KAArB,CAA7B;AACAN,IAAAA,MAAM,CAACc,EAAP,CAAU,UAAV,EAAqBC,QAAQ,IAAI;AAAC,WAAKC,QAAL,CAAc;AAACJ,QAAAA,IAAI,EAACG;AAAN,OAAd;AAA+B,KAAjE;AACH;;AAEDE,EAAAA,MAAM,GAAE;AACJ,WAAOzB,YAAY,CAAC0B,IAAb,CAAkB,IAAlB,CAAP;AACH;;AAlC4B;;AAwCjC,MAAMC,iBAAiB,GAAGlB,KAAK,KAAK;AAChCG,EAAAA,YAAY,EAAGH,KAAK,CAACG;AADW,CAAL,CAA/B;;AAIA,eAAeb,UAAU,CAACD,OAAO,CAAC6B,iBAAD,CAAP,CAA2BxB,QAA3B,CAAD,CAAzB","sourcesContent":["import {Component} from 'react'\nimport {connect} from 'react-redux'\nimport {withRouter} from 'react-router'\nimport Operatorhtml from './operator.html'\nimport store from '../../../store/store'\n\nimport socketIOClient from \"socket.io-client\";\n\n\nclass Operator extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            endpoint:'http://localhost:3002',\n        }\n\n         \n    }\n\n    disconnect = (val) =>{\n        const socket = socketIOClient(this.state.endpoint,{query: `operator=${this.props.authenticate?this.props.authenticate.info.name:'test'}`});\n        socket.emit('disconnect-patient', val.id)\n        console.log(val);\n    }\n\n    connect = (val) =>{\n        const socket = socketIOClient(this.state.endpoint,{query: `operator=${this.props.authenticate?this.props.authenticate.info.name:'test'}`});\n        socket.emit('connect-to-doctor', val.id)\n        console.log(val);\n    }\n\n    renderData= ()=>{\n        console.log(this.state.data);\n        return null;\n    }\n\n    componentDidMount(){\n        const socket = socketIOClient(this.state.endpoint,{query: `operator=${this.props.authenticate?this.props.authenticate.info.name:'test'}`});\n        socket.on('patients',patients => {this.setState({data:patients})});\n    }\n\n    render(){\n        return Operatorhtml.call(this);\n    }\n\n\n}\n\n\nconst matchStateToProps = state => ({\n    authenticate : state.authenticate\n})\n\nexport default withRouter(connect(matchStateToProps)(Operator))\n"]},"metadata":{},"sourceType":"module"}
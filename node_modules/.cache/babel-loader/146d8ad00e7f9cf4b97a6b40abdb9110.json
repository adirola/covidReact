{"ast":null,"code":"import _classCallCheck from\"/Users/adityarola/Downloads/covidclinicreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/adityarola/Downloads/covidclinicreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"/Users/adityarola/Downloads/covidclinicreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _createSuper from\"/Users/adityarola/Downloads/covidclinicreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import _inherits from\"/Users/adityarola/Downloads/covidclinicreact/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import{Component}from'react';import{connect}from'react-redux';import{withRouter}from'react-router';import Signinhtml from'./signin.html';import store from'../../../store/store';import toastr from'toastr';import{auth}from'../../../actions/authenticate';var Signin1=/*#__PURE__*/function(_Component){_inherits(Signin1,_Component);var _super=_createSuper(Signin1);function Signin1(props){var _this;_classCallCheck(this,Signin1);_this=_super.call(this,props);_this.afterAuth=function(data){console.log(data);if(data&&data.data){if(data.data.role.toLowerCase()==='operator'){_this.props.history.push('/operator');}else{_this.props.history.push('/patient');}}};_this.handleAuth=function(e){e.preventDefault();if(_this.state.username===''||_this.state.password===''){toastr.error(\"Please enter username and password\");}else if(_this.state.username.trim()===''||_this.state.password.trim()===''){toastr.error(\"Please enter username and password\");}store.dispatch(auth({email:_this.state.username,password:_this.state.password},{fn:_this.afterAuth,scope:_assertThisInitialized(_this)}));};_this.register=function(){_this.props.history.push('/register');};_this.state={username:'',password:''};return _this;}_createClass(Signin1,[{key:\"render\",value:function render(){return Signinhtml.call(this);}}]);return Signin1;}(Component);var matchStateToProps=function matchStateToProps(state){return{authenticate:state.authenticate};};export default withRouter(connect(matchStateToProps)(Signin1));","map":{"version":3,"sources":["/Users/adityarola/Downloads/covidclinicreact/src/modules/user/signin/signin.js"],"names":["Component","connect","withRouter","Signinhtml","store","toastr","auth","Signin1","props","afterAuth","data","console","log","role","toLowerCase","history","push","handleAuth","e","preventDefault","state","username","password","error","trim","dispatch","email","fn","scope","register","call","matchStateToProps","authenticate"],"mappings":"+yBAAA,OAAQA,SAAR,KAAwB,OAAxB,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAAQC,UAAR,KAAyB,cAAzB,CACA,MAAOC,CAAAA,UAAP,KAAuB,eAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,sBAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,QAAnB,CAEA,OAAQC,IAAR,KAAmB,+BAAnB,C,GAGMC,CAAAA,O,kGACF,iBAAYC,KAAZ,CAAkB,yCACd,uBAAMA,KAAN,EADc,MAQlBC,SARkB,CAQN,SAACC,IAAD,CAAS,CACjBC,OAAO,CAACC,GAAR,CAAYF,IAAZ,EACA,GAAGA,IAAI,EAAIA,IAAI,CAACA,IAAhB,CAAqB,CACjB,GAAGA,IAAI,CAACA,IAAL,CAAUG,IAAV,CAAeC,WAAf,KAAiC,UAApC,CAA+C,CAC/C,MAAKN,KAAL,CAAWO,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB,EACC,CAFD,IAEK,CACL,MAAKR,KAAL,CAAWO,OAAX,CAAmBC,IAAnB,CAAwB,UAAxB,EACC,CACJ,CACJ,CAjBiB,OAmBlBC,UAnBkB,CAmBL,SAACC,CAAD,CAAK,CACdA,CAAC,CAACC,cAAF,GACA,GAAG,MAAKC,KAAL,CAAWC,QAAX,GAAwB,EAAxB,EAA8B,MAAKD,KAAL,CAAWE,QAAX,GAAwB,EAAzD,CAA4D,CACxDjB,MAAM,CAACkB,KAAP,CAAa,oCAAb,EACH,CAFD,IAEM,IAAG,MAAKH,KAAL,CAAWC,QAAX,CAAoBG,IAApB,KAA+B,EAA/B,EAAqC,MAAKJ,KAAL,CAAWE,QAAX,CAAoBE,IAApB,KAA+B,EAAvE,CAA0E,CAC5EnB,MAAM,CAACkB,KAAP,CAAa,oCAAb,EACH,CAEDnB,KAAK,CAACqB,QAAN,CAAiBnB,IAAI,CAAC,CAACoB,KAAK,CAAC,MAAKN,KAAL,CAAWC,QAAlB,CAA2BC,QAAQ,CAAC,MAAKF,KAAL,CAAWE,QAA/C,CAAD,CAA0D,CAACK,EAAE,CAAC,MAAKlB,SAAT,CAAmBmB,KAAK,8BAAxB,CAA1D,CAArB,EAEH,CA7BiB,OA+BlBC,QA/BkB,CA+BP,UAAK,CACZ,MAAKrB,KAAL,CAAWO,OAAX,CAAmBC,IAAnB,CAAwB,WAAxB,EACH,CAjCiB,CAEd,MAAKI,KAAL,CAAa,CACTC,QAAQ,CAAC,EADA,CAETC,QAAQ,CAAC,EAFA,CAAb,CAFc,aAMjB,C,2DA6BO,CACJ,MAAOnB,CAAAA,UAAU,CAAC2B,IAAX,CAAgB,IAAhB,CAAP,CACH,C,qBAtCiB9B,S,EAwCtB,GAAM+B,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAAAX,KAAK,QAAK,CAChCY,YAAY,CAAGZ,KAAK,CAACY,YADW,CAAL,EAA/B,CAIA,cAAe9B,CAAAA,UAAU,CAACD,OAAO,CAAC8B,iBAAD,CAAP,CAA2BxB,OAA3B,CAAD,CAAzB","sourcesContent":["import {Component} from 'react'\nimport {connect} from 'react-redux'\nimport {withRouter} from 'react-router'\nimport Signinhtml from './signin.html'\nimport store from '../../../store/store'\nimport toastr from 'toastr'\n\nimport {auth} from '../../../actions/authenticate';\n\n\nclass Signin1 extends Component {\n    constructor(props){\n        super(props)\n        this.state = {\n            username:'',\n            password:'',\n        }\n    }\n\n    afterAuth = (data) =>{\n        console.log(data);\n        if(data && data.data){\n            if(data.data.role.toLowerCase() === 'operator'){\n            this.props.history.push('/operator')\n            }else{\n            this.props.history.push('/patient')\n            }\n        }\n    }\n\n    handleAuth = (e)=>{\n        e.preventDefault();\n        if(this.state.username === '' || this.state.password === ''){\n            toastr.error(\"Please enter username and password\");\n        }else if(this.state.username.trim() === '' || this.state.password.trim() === ''){\n            toastr.error(\"Please enter username and password\");\n        }\n\n        store.dispatch(((auth({email:this.state.username,password:this.state.password},{fn:this.afterAuth,scope:this}))));\n\n    }\n\n    register = () =>{\n        this.props.history.push('/register')\n    }\n\n    render(){\n        return Signinhtml.call(this);\n    }\n}\nconst matchStateToProps = state => ({\n    authenticate : state.authenticate\n})\n\nexport default withRouter(connect(matchStateToProps)(Signin1))\n"]},"metadata":{},"sourceType":"module"}